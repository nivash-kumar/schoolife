<nav class="max-w-full bg-gradient-to-r from-fuchsia-800 via-pink-600 to-fuchsia-700 text-white shadow-lg sticky top-0 z-50 overflow-hidden">
  <div class="max-w-5xl mx-auto flex flex-wrap items-center justify-between px-4 py-3 md:flex-nowrap">
    <a href="/" class="flex items-center text-2xl font-black tracking-tight gap-2">
      <svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <rect x="3" y="7" width="18" height="10" rx="2" stroke-width="2"/>
        <path d="M7 7V5a2 2 0 1 1 4 0v2" stroke-width="2"/>
      </svg>
      Schoolify
    </a>

    <!-- Mobile menu button -->
    <button id="menu-btn" class="inline-flex md:hidden items-center justify-center p-2 rounded-md hover:bg-fuchsia-600 focus:outline-none focus:ring-2 focus:ring-white">
      <svg id="menu-open-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
      <svg id="menu-close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <div id="menu" class="hidden w-full md:flex md:w-auto md:items-center md:gap-6 mt-3 md:mt-0">
      <ul class="flex flex-col md:flex-row md:items-center md:space-x-6 text-lg font-semibold flex-1">
        <li><a href="/" class="block py-2 px-3 hover:text-yellow-300 transition">Home</a></li>
        <li><a href="/students" class="block py-2 px-3 hover:text-yellow-300 transition">Students</a></li>
        <li><a href="/teachers" class="block py-2 px-3 hover:text-yellow-300 transition">Teachers</a></li>
        <li><a href="/subjects" class="block py-2 px-3 hover:text-yellow-300 transition">Subjects</a></li>

        <% if(isLoggedIn) { %>
          <li class="block py-2 px-3 text-fuchsia-200 md:text-base font-normal flex-2"><a href="/profile" class="hover:text-yellow-300 transition">Hi, <%= user.name.split(' ')[0] %>!</a></li>
          <li class="flex-2">
            <form action="/logout" method="post">
              <button class=""bg-white text-fuchsia-700 hover:bg-yellow-300 px-4 py-1 rounded-full shadow transition inline-block">Logout</button>
            </form>
          </li>
        <% } else { %>
          <li><a href="/login" class="block py-2 px-3 hover:text-yellow-300 transition">Login</a></li>
          <li>
            <a href="/signup" class="bg-yellow-300 text-fuchsia-900 hover:bg-white px-4 py-1 rounded-full shadow transition inline-block">
              Sign Up
            </a>
          </li>
        <% } %>
      </ul>
    </div>
  </div>

  <script>
    const btn = document.getElementById('menu-btn');
    const menu = document.getElementById('menu');
    const openIcon = document.getElementById('menu-open-icon');
    const closeIcon = document.getElementById('menu-close-icon');

    btn.addEventListener('click', () => {
      menu.classList.toggle('hidden');
      openIcon.classList.toggle('hidden');
      closeIcon.classList.toggle('hidden');
    });
  </script>
</nav>

